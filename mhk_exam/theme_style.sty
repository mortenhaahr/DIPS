\usepackage{silence}
%Suppression of the smallcaps warning
\WarningFilter[allsmallcapsWarning]{beamerthememetropolis}{Be aware that titleformat}
\ActivateWarningFilters[allsmallcapsWarning]

\usetheme[titleformat=allsmallcaps,numbering=fraction]{metropolis}
\metroset{block=fill}

% For strikethrough text (sout)
\usepackage[normalem]{ulem}

% Color palette
\definecolor{auBlue}{HTML}{003D85}
\definecolor{auRed}{HTML}{6F1A45}
\definecolor{auBlack}{HTML}{333333}
\definecolor{auPink}{HTML}{FF72BD}
\definecolor{auWhite}{HTML}{F5F5F5}

% Using the color palette
\setbeamercolor{normal text}{fg=auBlack, bg=auWhite}
\setbeamercolor{alerted text}{fg=auRed}
\setbeamercolor{example text}{fg=auPink}
\setbeamercolor{progress bar}{fg=auBlue,bg=auBlue!50!black!30}
\setbeamercolor{title separator}{use=progress bar,parent=progress bar}
\setbeamercolor{palette primary}{fg=auWhite,bg=auBlue}

% Footer settings
\def\footersidepadding{.2cm}
\def\footerbottompadding{1.5ex}
\def\logoheight{4.5ex}
\def\logo{%
  \resizebox{!}{\logoheight}{\includegraphics{figs/aulogo_small.png}}
}

% Making the footer
\defbeamertemplate*{footline}{metropolis}
{%
    \begin{beamercolorbox}[wd=\paperwidth,ht=\logoheight,dp=\footerbottompadding,%
        leftskip=\footersidepadding,rightskip=\footersidepadding plus1fil]{separation line}
        \usebeamerfont{section in head/foot}%
        \makebox[0pt][l]{\logo}\hfill%
        \makebox[0pt][c]{\insertshorttitle}\hfill%
        \makebox[0pt][r]{\insertpagenumber\,/\,\insertpresentationendpage}%
    \end{beamercolorbox}
}

% Overwrite default titlepage
\setbeamertemplate{studentid}{
    \vspace*{0.2em}
    \scriptsize{Student ID: \studentid}%
    \par%
}

\setbeamertemplate{title page}{
  \begin{minipage}[b][\paperheight]{\textwidth}
    \vfill%
    \ifx\inserttitle\@empty\else\usebeamertemplate*{title}\fi
    \ifx\insertsubtitle\@empty\else\usebeamertemplate*{subtitle}\fi
    \usebeamertemplate*{title separator}
    \ifx\beamer@shortauthor\@empty\else\usebeamertemplate*{author}\fi
    \ifx\insertdate\@empty\else\usebeamertemplate*{date}\fi
    \ifx\insertinstitute\@empty\else\usebeamertemplate*{institute}\fi
    \usebeamertemplate*{studentid}
    \ifx\inserttitlegraphic\@empty\else\usebeamertemplate*{title graphic}\fi
    \vfill
    \vspace*{1mm}
  \end{minipage}
}

% Minted:
\usepackage[cache=true, outputdir=cache, cachedir=minted-main]{minted} % NB. cache disabled - måske skal det ændres.
\usemintedstyle{perldoc}
\newminted{csharp}{frame=single, breaklines=true, linenos=true, escapeinside=@@}
\newminted{c}{frame=single, breaklines=true, linenos=true, escapeinside=@@}
\newminted{python}{frame=single, breaklines=true, linenos=true, escapeinside=@@}
\newminted{cpp}{frame=single, breaklines=true, linenos=true, escapeinside=@@}
\newminted{text}{frame=single, breaklines=true, linenos=true, escapeinside=@@}
% Minted:
\definecolor{codebg}{rgb}{0.95,0.95,0.95}
% Inlines:
\newmintinline{csharp}{bgcolor=codebg}
\newmintinline{c}{bgcolor=codebg}
\newmintinline{python}{bgcolor=codebg}
\newmintinline{text}{bgcolor=codebg, breaklines=true}
\newmintinline{cpp}{bgcolor=codebg, breaklines=true}